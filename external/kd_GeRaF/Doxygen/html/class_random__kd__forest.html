<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>kd-GeRaF: Random_kd_forest&lt; DivisionSpace &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">kd-GeRaF
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">High-dimensional nearest neighbor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_random__kd__forest-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Random_kd_forest&lt; DivisionSpace &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_random__kd__forest_8h_source.html">Random_kd_forest.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a14d11522dcef8dd7f6e04977ad677f91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#a14d11522dcef8dd7f6e04977ad677f91">Random_kd_forest</a> (DivisionSpace &amp;ds, const int sample=100, size_t points_per_leaf=1, const int trees_no=5, int t=5, <a class="el" href="_parameters_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> rotate_option=<a class="el" href="_parameters_8h.html#a4940d1dc528122726d2c8c475657e1a9a996e257033c09daf66076efc1ebd3b1c">No</a>)</td></tr>
<tr class="memdesc:a14d11522dcef8dd7f6e04977ad677f91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that will build the trees, indexing the points of the given DivisionSpace.  <a href="#a14d11522dcef8dd7f6e04977ad677f91">More...</a><br /></td></tr>
<tr class="separator:a14d11522dcef8dd7f6e04977ad677f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a335f0ef8c827e6ff91d78454929e05df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#a335f0ef8c827e6ff91d78454929e05df">search_nn_prune</a> (const std::vector&lt; FT &gt; &amp;q, std::vector&lt; std::pair&lt; float, int &gt; &gt; &amp;res, int max_leaf_check, bool sorted_results=false, int k=1, float epsilon=0)</td></tr>
<tr class="memdesc:a335f0ef8c827e6ff91d78454929e05df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for k nearest neighbors.  <a href="#a335f0ef8c827e6ff91d78454929e05df">More...</a><br /></td></tr>
<tr class="separator:a335f0ef8c827e6ff91d78454929e05df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c7c3dbf20012811058b1bbfd54c52e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#a00c7c3dbf20012811058b1bbfd54c52e">search_nn_prune</a> (const size_t N, std::vector&lt; std::vector&lt; std::pair&lt; float, int &gt; &gt; &gt; &amp;res, int max_leaf_check, bool sorted_results, int k=1, float epsilon=0)</td></tr>
<tr class="memdesc:a00c7c3dbf20012811058b1bbfd54c52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for k nearest neighbors, with every point of the data set to play the role of the query.  <a href="#a00c7c3dbf20012811058b1bbfd54c52e">More...</a><br /></td></tr>
<tr class="separator:a00c7c3dbf20012811058b1bbfd54c52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2649d326dddc7cd261782b4f7b63920f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#a2649d326dddc7cd261782b4f7b63920f">search_nn</a> (const std::vector&lt; FT &gt; &amp;q, std::vector&lt; std::pair&lt; float, int &gt; &gt; &amp;res, int max_leaf_check, unsigned int k=1, float epsilon=0)</td></tr>
<tr class="memdesc:a2649d326dddc7cd261782b4f7b63920f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for k <b>exact</b> nearest neighbors.  <a href="#a2649d326dddc7cd261782b4f7b63920f">More...</a><br /></td></tr>
<tr class="separator:a2649d326dddc7cd261782b4f7b63920f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381db34e26b00d570039cc0cdbe0f8fb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#a381db34e26b00d570039cc0cdbe0f8fb">search_nn_radius</a> (std::vector&lt; FT &gt; &amp;q, std::vector&lt; std::pair&lt; int, float &gt; &gt; &amp;res, float r, float epsilon=0, int max_leaf_check=50)</td></tr>
<tr class="memdesc:a381db34e26b00d570039cc0cdbe0f8fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for k nearest neighbors, based on a given radius.  <a href="#a381db34e26b00d570039cc0cdbe0f8fb">More...</a><br /></td></tr>
<tr class="separator:a381db34e26b00d570039cc0cdbe0f8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbf4bcdc91d8a4c9bd317bee813374e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#a5fbf4bcdc91d8a4c9bd317bee813374e">print</a> (const std::vector&lt; FT &gt; &amp;p)</td></tr>
<tr class="memdesc:a5fbf4bcdc91d8a4c9bd317bee813374e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a point.  <a href="#a5fbf4bcdc91d8a4c9bd317bee813374e">More...</a><br /></td></tr>
<tr class="separator:a5fbf4bcdc91d8a4c9bd317bee813374e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc01e19d2f11a308b74fef3cfa0f2ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_random__kd__forest.html#abc01e19d2f11a308b74fef3cfa0f2ba1">print_trees</a> (bool points=false)</td></tr>
<tr class="memdesc:abc01e19d2f11a308b74fef3cfa0f2ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the trees of the forest.  <a href="#abc01e19d2f11a308b74fef3cfa0f2ba1">More...</a><br /></td></tr>
<tr class="separator:abc01e19d2f11a308b74fef3cfa0f2ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class DivisionSpace&gt;<br />
class Random_kd_forest&lt; DivisionSpace &gt;</h3>

<p>A forest of Tree's. The points of the trees, lie in the DivisionSpace. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a14d11522dcef8dd7f6e04977ad677f91"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::<a class="el" href="class_random__kd__forest.html">Random_kd_forest</a> </td>
          <td>(</td>
          <td class="paramtype">DivisionSpace &amp;&#160;</td>
          <td class="paramname"><em>ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>sample</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>points_per_leaf</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>trees_no</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_parameters_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a>&#160;</td>
          <td class="paramname"><em>rotate_option</em> = <code><a class="el" href="_parameters_8h.html#a4940d1dc528122726d2c8c475657e1a9a996e257033c09daf66076efc1ebd3b1c">No</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that will build the trees, indexing the points of the given DivisionSpace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ds</td><td>- the DivisionSpace </td></tr>
    <tr><td class="paramname">sample</td><td>- sample size when computing variances </td></tr>
    <tr><td class="paramname">points_per_leaf</td><td>- desired number of points per leaf </td></tr>
    <tr><td class="paramname">trees_no</td><td>- number of trees </td></tr>
    <tr><td class="paramname">t</td><td>- number of dimensions to be used for building the tree. 5 seems to work well. </td></tr>
    <tr><td class="paramname">rotate_option</td><td>- No, Householder or Random. Default is No. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5fbf4bcdc91d8a4c9bd317bee813374e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::print </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; FT &gt; &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print a point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>- the point </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abc01e19d2f11a308b74fef3cfa0f2ba1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::print_trees </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>points</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the trees of the forest. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">points</td><td>- if true, the coordinates of the points are going to be printed. Otherwise, the indices. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2649d326dddc7cd261782b4f7b63920f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::search_nn </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; FT &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; float, int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_leaf_check</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>k</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search for k <b>exact</b> nearest neighbors. </p>
<p>This function implements the Exact searching, subsection 5.1 in the 'RKD_forest.pdf'. Notice that the approximation parameters may affect each other. For example, <code>epsilon</code> equal to zero, can be affected by a very small value for <code>max_leaf_check</code>. Moreover, the approximation parameters can affect <code>k</code> as well. If for example <code>max_leaf_check</code> is set to 1 and every leaf contains 1 point, then we will find one NN, even if <code>k</code> &gt;= 2. In such a situation, the index of neighbors not found is set to -1. For <b>exact</b> searching, use 'epsilon' equal to 0 and a big value for <code>max_leaf_check</code> and <b>one tree</b>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- query point </td></tr>
    <tr><td class="paramname">res</td><td>- vector of k nearest neighbors, with the first field to be the distance from 'q', while the second field is the index of the NN. </td></tr>
    <tr><td class="paramname">max_leaf_check</td><td>- max number of leaves to check while searching/ </td></tr>
    <tr><td class="paramname">k</td><td>- number of NN we search for </td></tr>
    <tr><td class="paramname">epsilon</td><td>- approximation parameter </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a335f0ef8c827e6ff91d78454929e05df"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::search_nn_prune </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; FT &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; float, int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_leaf_check</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sorted_results</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search for k nearest neighbors. </p>
<p>This function implements the Fast searching, subsection 5.3 in the 'RKD_forest.pdf'. Notice that the approximation parameters may affect each other. For example, <code>epsilon</code> equal to zero, can be affected by a very small value for <code>max_leaf_check</code>. Moreover, the approximation parameters can affect <code>k</code> as well. If for example <code>max_leaf_check</code> is set to 1 and every leaf contains 1 point, then we will find one NN, even if <code>k</code> &gt;= 2. In such a situation, the index of neighbors not found is set to -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- query point </td></tr>
    <tr><td class="paramname">res</td><td>- vector of k nearest neighbors, with the first field to be the distance from 'q', while the second field is the index of the NN. </td></tr>
    <tr><td class="paramname">max_leaf_check</td><td>- max number of leaves to check while searching/ </td></tr>
    <tr><td class="paramname">sorted_results</td><td>- if true, results are going to be sorted, based on their distance from the query point. </td></tr>
    <tr><td class="paramname">k</td><td>- number of NN we search for </td></tr>
    <tr><td class="paramname">epsilon</td><td>- approximation parameter </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a00c7c3dbf20012811058b1bbfd54c52e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::search_nn_prune </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; std::pair&lt; float, int &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_leaf_check</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sorted_results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search for k nearest neighbors, with every point of the data set to play the role of the query. </p>
<p>This function implements the Fast searching, subsection 5.3 in the 'RKD_forest.pdf'. Notice that the approximation parameters may affect each other. For example, <code>epsilon</code> equal to zero, can be affected by a very small value for <code>max_leaf_check</code>. Moreover, the approximation parameters can affect <code>k</code> as well. If for example <code>max_leaf_check</code> is set to 1 and every leaf contains 1 point, then we will find one NN, even if <code>k</code> &gt;= 2. In such a situation, the index of neighbors not found is set to -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N</td><td>- number of points </td></tr>
    <tr><td class="paramname">res</td><td>- vector of vectors of k nearest neighbors, with the first field to be the distance from 'q', while the second field is the index of the NN. The size of the vector is equal to the size of the data set. </td></tr>
    <tr><td class="paramname">max_leaf_check</td><td>- max number of leaves to check while searching/ </td></tr>
    <tr><td class="paramname">sorted_results</td><td>- if true, results are going to be sorted, based on their distance from the query point. </td></tr>
    <tr><td class="paramname">k</td><td>- number of NN we search for </td></tr>
    <tr><td class="paramname">epsilon</td><td>- approximation parameter </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a381db34e26b00d570039cc0cdbe0f8fb"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DivisionSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="class_random__kd__forest.html">Random_kd_forest</a>&lt; DivisionSpace &gt;::search_nn_radius </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; FT &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; int, float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_leaf_check</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search for k nearest neighbors, based on a given radius. </p>
<p>This function implements the Exact radius searching, subsection 5.2 in the 'RKD_forest.pdf'. Notice that the approximation parameters may affect each other. For example, <code>epsilon</code> equal to zero, can be affected by a very small value for <code>max_leaf_check</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>- query point </td></tr>
    <tr><td class="paramname">res</td><td>- vector of k nearest neighbors, with the first field to be the index of NN, while the second field is the distance from 'q'. </td></tr>
    <tr><td class="paramname">r</td><td>- radius </td></tr>
    <tr><td class="paramname">epsilon</td><td>- approximation parameter </td></tr>
    <tr><td class="paramname">max_leaf_check</td><td>- max number of leaves to check while searching/</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- 0 if no results are found, else number of results </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>source/<a class="el" href="_random__kd__forest_8h_source.html">Random_kd_forest.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 26 2015 16:24:23 for kd-GeRaF by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
