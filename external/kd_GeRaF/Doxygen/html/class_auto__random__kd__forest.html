<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>kd-GeRaF: Auto_random_kd_forest&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">kd-GeRaF
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">High-dimensional nearest neighbor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_auto__random__kd__forest-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Auto_random_kd_forest&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_auto__random__kd__forest_8h_source.html">Auto_random_kd_forest.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae7e736a63968a6221cb278010453db31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_auto__random__kd__forest.html#ae7e736a63968a6221cb278010453db31">Auto_random_kd_forest</a> (size_t &amp;N, size_t &amp;D, const std::string &amp;datafile, const size_t Q, const std::string &amp;queryfile, const int k, const float epsilon, std::vector&lt; std::vector&lt; std::pair&lt; float, int &gt; &gt; &gt; &amp;results, <a class="el" href="struct_params.html">Params</a> *parameters=0, const int file_option=0)</td></tr>
<tr class="memdesc:ae7e736a63968a6221cb278010453db31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that will automatically compute the optimal parameters, build the forest, perform the search and fill in the result vector. 'N' and 'D' parameters are going to be updated if needed (pass them with initial values of zero to the constructor).  <a href="#ae7e736a63968a6221cb278010453db31">More...</a><br /></td></tr>
<tr class="separator:ae7e736a63968a6221cb278010453db31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8bba83996efd2f2ef8e14463754d62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_auto__random__kd__forest.html#a7f8bba83996efd2f2ef8e14463754d62">check_miss</a> (const std::string &amp;matchfile, const size_t Q, const int k, const std::vector&lt; std::vector&lt; std::pair&lt; float, int &gt; &gt; &gt; &amp;results)</td></tr>
<tr class="memdesc:a7f8bba83996efd2f2ef8e14463754d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a match file that contains the indices of the exact Nearest Neighbours ('k' integers per line, total 'Q' lines) and the 'results' vector the search returned, this function will check to see the quality of the search, i.e. how many exact neighbours were found and it will print the miss rate.  <a href="#a7f8bba83996efd2f2ef8e14463754d62">More...</a><br /></td></tr>
<tr class="separator:a7f8bba83996efd2f2ef8e14463754d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5669f1115f0392d2aa8ddd3483c1c526"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_auto__random__kd__forest.html#a5669f1115f0392d2aa8ddd3483c1c526">print</a> (const std::vector&lt; T &gt; &amp;p)</td></tr>
<tr class="memdesc:a5669f1115f0392d2aa8ddd3483c1c526"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a point.  <a href="#a5669f1115f0392d2aa8ddd3483c1c526">More...</a><br /></td></tr>
<tr class="separator:a5669f1115f0392d2aa8ddd3483c1c526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689c779fa4a31457b943886bb921a9dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_auto__random__kd__forest.html#a689c779fa4a31457b943886bb921a9dd">print_trees</a> (bool points=false)</td></tr>
<tr class="memdesc:a689c779fa4a31457b943886bb921a9dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the trees of the forest.  <a href="#a689c779fa4a31457b943886bb921a9dd">More...</a><br /></td></tr>
<tr class="separator:a689c779fa4a31457b943886bb921a9dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class Auto_random_kd_forest&lt; T &gt;</h3>

<p>A forest of Tree's. The points of the trees, lie in the DivisionSpace. This class receives the dataset and the queries, builds the forest automatically (by performing automatic computation of the optimal parameters), performs the search and finally returns the results. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="main_exp_par_auto_8cpp-example.html#_a0">main_exp_par_auto.cpp</a>, <a class="el" href="main_no_par_8cpp-example.html#_a9">main_no_par.cpp</a>, <a class="el" href="main_par_8cpp-example.html#_a9">main_par.cpp</a>, and <a class="el" href="main_par_auto_8cpp-example.html#_a0">main_par_auto.cpp</a>.</dd>
</dl></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae7e736a63968a6221cb278010453db31"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_auto__random__kd__forest.html">Auto_random_kd_forest</a>&lt; T &gt;::<a class="el" href="class_auto__random__kd__forest.html">Auto_random_kd_forest</a> </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>datafile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>queryfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>epsilon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; std::pair&lt; float, int &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_params.html">Params</a> *&#160;</td>
          <td class="paramname"><em>parameters</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>file_option</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that will automatically compute the optimal parameters, build the forest, perform the search and fill in the result vector. 'N' and 'D' parameters are going to be updated if needed (pass them with initial values of zero to the constructor). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">N</td><td>- size of data set </td></tr>
    <tr><td class="paramname">D</td><td>- dimension of data set </td></tr>
    <tr><td class="paramname">datafile</td><td>- file that contains the data set </td></tr>
    <tr><td class="paramname">Q</td><td>- number of queries </td></tr>
    <tr><td class="paramname">queryfile</td><td>- file that contains the queries </td></tr>
    <tr><td class="paramname">k</td><td>- number of nearest neighbours we are searching per query </td></tr>
    <tr><td class="paramname">epsilon</td><td>- factor of accuracy. Set to 0 for maximum accuracy </td></tr>
    <tr><td class="paramname">results</td><td>- 2D vector that will host the indices of the nearest neighbors. The vector shall be resized automatically to 'Q' x 'k'. </td></tr>
    <tr><td class="paramname">parameters</td><td>- struct of parameters. By default, parameters are auto configured. </td></tr>
    <tr><td class="paramname">file_option</td><td>- how to parse the <code>datafile</code>. Default value is 0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7f8bba83996efd2f2ef8e14463754d62"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_auto__random__kd__forest.html">Auto_random_kd_forest</a>&lt; T &gt;::check_miss </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>matchfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>Q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; std::pair&lt; float, int &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a match file that contains the indices of the exact Nearest Neighbours ('k' integers per line, total 'Q' lines) and the 'results' vector the search returned, this function will check to see the quality of the search, i.e. how many exact neighbours were found and it will print the miss rate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matchfile</td><td>- file of the indices of the exact NN's </td></tr>
    <tr><td class="paramname">Q</td><td>- number of queries </td></tr>
    <tr><td class="paramname">k</td><td>- number of nearest neighbours we searched per query </td></tr>
    <tr><td class="paramname">results</td><td>- 2D vector that hosts the indices of the nearest neighbors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5669f1115f0392d2aa8ddd3483c1c526"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_auto__random__kd__forest.html">Auto_random_kd_forest</a>&lt; T &gt;::print </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print a point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>- the point </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a689c779fa4a31457b943886bb921a9dd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_auto__random__kd__forest.html">Auto_random_kd_forest</a>&lt; T &gt;::print_trees </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>points</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the trees of the forest. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">points</td><td>- if true, the coordinates of the points are going to be printed. Otherwise, the indices. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>source/<a class="el" href="_auto__random__kd__forest_8h_source.html">Auto_random_kd_forest.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 26 2015 16:24:23 for kd-GeRaF by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
